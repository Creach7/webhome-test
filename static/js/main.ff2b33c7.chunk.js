(this["webpackJsonpwebhome-test"]=this["webpackJsonpwebhome-test"]||[]).push([[0],[,,,,,,function(t,e,n){},,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(7),o=n.n(s),r=(n(16),n(8)),i=n(9),u=n(11),j=n(10),p=(n(17),n(2)),l=(n(6),n(18),n(0));function f(t){var e=t.postComment,n=Object(c.useState)(""),a=Object(p.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(""),i=Object(p.a)(r,2),u=i[0],j=i[1],f=Object(c.useState)(!1),m=Object(p.a)(f,2),h=m[0],b=m[1],d=Object(c.useState)(!1),O=Object(p.a)(d,2),x=O[0],g=O[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{className:"container column",onSubmit:function(t){t.preventDefault(),console.log(s,u);var n=!0;""===s&&(b(!0),n=!1),""===u&&(g(!0),n=!1),n&&(e(s,u),o(""),j(""))},children:[Object(l.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",className:"input"+(h?" form-section__wrong_input":""),onChange:function(t){h&&b(!1),o(t.target.value)},value:s}),Object(l.jsx)("textarea",{type:"text",className:"form-section__text input"+(x?" form-section__wrong_input":""),placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){x&&g(!1),j(t.target.value)},value:u}),Object(l.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})}n(20),n(21);function m(t){var e=t.firstPage,n=t.lastPage,a=t.changePage,s=t.pagesCount,o=Object(c.useState)(""),r=Object(p.a)(o,2),i=r[0],u=r[1],j=Object(c.useState)(!1),f=Object(p.a)(j,2),m=f[0],h=f[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"container row navigation",children:function(){var t=[];if(t.push(Object(l.jsx)("a",{className:"pagin",href:"/",onClick:function(t){t.preventDefault(),1!==e&&a(e-1)},children:"<<"},"<<")),e>3)for(var c=function(e){t.push(Object(l.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),a(e)},children:"".concat(e)},e))},o=1;o<=3&&o<e-2;o++)c(o);e>6&&t.push(Object(l.jsx)("p",{children:"..."},"1points"));for(var r=function(c){return c<=0?(i=c,"continue"):c===e?(e!==n?(t.push(Object(l.jsx)("p",{children:"".concat(e,"-").concat(n)},"".concat(e,"-").concat(n))),c=n+1):t.push(Object(l.jsx)("p",{children:"".concat(e)},"".concat(e))),i=c,"continue"):(t.push(Object(l.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),a(c)},children:"".concat(c)},c)),void(i=c))},i=e-2;i<=n+2&&i<=s;i++)r(i);if(n<s-6&&t.push(Object(l.jsx)("p",{children:"..."},"2points")),n<s-3)for(var u=function(e){t.push(Object(l.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),a(e)},children:"".concat(e)},e))},j=s-2;j<=s&&j>n+2;j++)u(j);return t.push(Object(l.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),n!==s&&a(n+1)},children:">>"},">>")),t}()}),Object(l.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",className:"navigation-input ".concat(m?"wrong-text":""),onChange:function(t){h(!1),u(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&(/^\d+$/.test(i)&&i>0&&i<=s?a(parseInt(i)):h(!0))},value:i})]})}n(22);function h(t){var e=t.name,n=t.text;return Object(l.jsxs)("div",{className:"item",children:[Object(l.jsxs)("p",{className:"item-name",children:[e," \u043f\u0438\u0448\u0435\u0442:"]}),Object(l.jsx)("p",{children:n})]})}function b(t){var e=t.getComments,n=t.addComments,a=t.comments,s=t.pagesCount,o=Object(c.useState)(1),r=Object(p.a)(o,2),i=r[0],u=r[1],j=Object(c.useState)(1),f=Object(p.a)(j,2),b=f[0],d=f[1],O=function(t){u(t),d(t),e(t)},x=b!==s?Object(l.jsx)("button",{className:"button-more",onClick:function(){var t=b+1;d(t),n(t)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}):Object(l.jsx)(l.Fragment,{});return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{firstPage:i,lastPage:b,changePage:O,pagesCount:s}),Object(l.jsx)("ul",{className:"list",children:a.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)(h,{name:t.name,text:t.text})},t.id)}))}),x,Object(l.jsx)(m,{firstPage:i,lastPage:b,changePage:O,pagesCount:s})]})}var d=n(3),O=n.n(d),x=n(5),g=function(){var t=Object(x.a)(O.a.mark((function t(e,n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:n});case 2:return c=t.sent,t.next=5,c.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(x.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(n.status));case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={apiBase:"https://jordan.ashton.fashion/api/goods/30/comments",comments:[],last_page:0},t.getComments=function(e){v("".concat(t.state.apiBase,"?page=").concat(e)).then((function(e){t.setState((function(t){return{comments:e.data,last_page:e.last_page}}))}))},t.addComments=function(e){v("".concat(t.state.apiBase,"?page=").concat(e)).then((function(e){t.setState((function(t){return{comments:t.comments.concat(e.data),last_page:e.last_page}}))}))},t.postComment=function(e,n){g(t.state.apiBase,JSON.stringify({name:e,text:n}))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getComments(1)}},{key:"render",value:function(){var t=this.state,e=t.comments,n=t.last_page;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(f,{postComment:this.postComment}),Object(l.jsx)(b,{getComments:this.getComments,addComments:this.addComments,comments:e,pagesCount:n})]})}}]),n}(a.a.Component);o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.ff2b33c7.chunk.js.map